---
# ansible/inventory/cloud.yml
# Inventory for cloud GPU instances (GCP, RunPod, etc.)
#
# GCP Testing: G2 instances with L4 GPUs (Ada Lovelace) for Ansible validation.
# RunPod Testing: RTX 5090 containers for ML framework validation on Blackwell.

all:
  hosts:
    gcp-gpu:
      # GCP instance (populated when launching test runs)
      ansible_host: "{{ gcp_instance_ip | default('127.0.0.1') }}"
      ansible_port: 22
      ansible_user: packer
      ansible_python_interpreter: /usr/bin/python3.12

      # GPU Configuration â€” Ada Lovelace (GCP L4)
      nvidia_expected_gpu_count: 1
      nvidia_gpu_architecture: "auto"

      # Driver Configuration
      cuda_version: "12.8"

  vars:
    # Cloud-specific settings
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'

  children:
    gpu_servers:
      hosts:
        gcp-gpu:

# RunPod example (RTX 5090 Blackwell):
#
# runpod-rtx5090:
#   ansible_host: <runpod-ip>
#   ansible_port: <runpod-port>
#   ansible_user: root
#   nvidia_gpu_architecture: "blackwell"
#   nvidia_expected_gpu_count: 1
