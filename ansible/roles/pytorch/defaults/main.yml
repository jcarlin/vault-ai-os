---
# ansible/roles/pytorch/defaults/main.yml
#
# PyTorch 2.7.0 is the first stable release with Blackwell (sm_120) support.
# Earlier versions produce: "RuntimeError: CUDA error: no kernel image is available"
# PyTorch 2.7.0 includes updated cuDNN, NCCL, CUTLASS, and Triton 3.3 for Blackwell.

pytorch_version: "2.7.0"
pytorch_cuda_version: "cu128"  # CUDA 12.8 â€” required for native Blackwell sm_120
pytorch_install_torchvision: true
pytorch_install_torchaudio: true
pytorch_index_url: "https://download.pytorch.org/whl/{{ pytorch_cuda_version }}"

# CUDA architecture target for custom extension builds
# Set to "12.0" for RTX 5090 (Blackwell sm_120)
pytorch_cuda_arch_list: "12.0"
