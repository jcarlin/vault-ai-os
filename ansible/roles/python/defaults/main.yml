---
# Python Environment Role - Default Variables
# Installs Python 3.12 for ML framework compatibility
# Epic 1a - Task 1a.7

# Python version
python_version: "3.12"

# Python packages to install
python_packages:
  - python3.12
  - python3.12-full
  - python3.12-dev
  - python3.12-venv
  - python3-pip  # Install pip via apt (ensurepip is disabled on Ubuntu)
  - python-is-python3

# Build dependencies for ML packages
# Required for compiling NumPy, SciPy, PyTorch, TensorFlow, etc.
python_build_deps:
  - gcc
  - g++
  - make
  - cmake
  - libssl-dev
  - libffi-dev
  - libbz2-dev
  - libreadline-dev
  - libsqlite3-dev
  - libncurses5-dev
  - libncursesw5-dev
  - xz-utils
  - tk-dev
  - libxml2-dev
  - libxmlsec1-dev
  - liblzma-dev

# Pip configuration
# Note: pip_upgrade disabled by default for golden images
# - Ubuntu 22.04: Python 3.12 lacks distutils (removed in 3.12)
# - Ubuntu 24.04: PEP 668 prevents system pip modifications
# System pip from apt is stable and sufficient for base image
pip_upgrade: false
pip_cache_dir: "/var/cache/pip"

# PPA configuration
deadsnakes_ppa: "ppa:deadsnakes/ppa"
