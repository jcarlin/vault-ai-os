---
# Docker Role - Default Variables

# Docker Package Configuration
docker_edition: ce  # Community Edition
docker_channel: stable  # stable, edge, or test
docker_packages:
  - docker-ce
  - docker-ce-cli
  - containerd.io
  - docker-buildx-plugin
  - docker-compose-plugin

# Docker Repository Configuration
docker_gpg_key_url: https://download.docker.com/linux/ubuntu/gpg
docker_apt_repository: "deb [arch=amd64 signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} {{ docker_channel }}"

# Docker Daemon Configuration
docker_daemon_config:
  exec-opts:
    - "native.cgroupdriver=systemd"
  log-driver: "json-file"
  log-opts:
    max-size: "100m"
    max-file: "3"
  storage-driver: "overlay2"
  live-restore: true

# Users to add to docker group (for non-sudo docker access)
docker_users:
  - "{{ vault_user | default('vaultadmin') }}"

# Service Configuration
docker_service_enabled: true
docker_service_state: started
