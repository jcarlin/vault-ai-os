---
# Master Playbook - Vault Cube Golden Image
# Orchestrates all roles for base system configuration
# Phase: Epic 1a - Demo Box Operation

- name: Configure Vault Cube Base System
  hosts: all
  become: true
  gather_facts: true

  roles:
    - role: common
      tags: ['common', 'base']

    - role: users
      tags: ['users', 'base']

    - role: security
      tags: ['security', 'hardening']

    - role: packages
      tags: ['packages', 'base']

    - role: networking
      tags: ['networking', 'base']

    - role: docker
      tags: ['docker', 'containers']

  post_tasks:
    - name: Display completion message
      debug:
        msg:
          - "Vault Cube base system configuration complete!"
          - "Security hardening applied: SSH, UFW firewall, fail2ban, auto-updates"
          - "Docker Engine installed and configured for GPU container support"
          - "Ready for AI framework installation (Python, NVIDIA drivers)"
